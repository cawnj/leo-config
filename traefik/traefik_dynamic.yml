http:
  routers:
    plex:
      rule: "Host(`plex.local.cawnj.dev`)"
      entryPoints:
        - "https"
      middlewares:
        - "plexHeaders"
      service: "plex"
    nomad:
      rule: "Host(`nomad.local.cawnj.dev`)"
      entryPoints:
        - "https"
      middlewares:
        - "nomadHeaders"
      service: "nomad"
    webhook:
      rule: "Host(`webhook.plusvasis.xyz`)"
      entryPoints:
        - "https"
      service: "webhook"
    jellyfin:
      rule: "Host(`jellyfin.local.cawnj.dev`)"
      entryPoints:
        - "https"
      service: "jellyfin"
  services:
    plex:
      loadBalancer:
        servers:
          - url: "http://192.168.0.201:32400"
    nomad:
      loadBalancer:
        servers:
          - url: "http://192.168.0.201:4646"
    webhook:
      loadBalancer:
        servers:
          - url: "http://192.168.0.201:9000"
    jellyfin:
      loadBalancer:
        servers:
          - url: "http://192.168.0.201:8096"
  middlewares:
    plexHeaders:
      headers:
        sslRedirect: true
        stsSeconds: "315360000"
        browserXSSFilter: true
        contentTypeNosniff: true
        forceSTSHeader: true
        stsIncludeSubdomains: true
        stsPreload: true
        frameDeny: false
    nomadHeaders:
      headers:
        customRequestHeaders:
          Origin: "https://nomad.local.cawnj.dev"
